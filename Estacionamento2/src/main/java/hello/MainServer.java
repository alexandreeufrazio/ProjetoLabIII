package hello;

import static spark.Spark.*;



public class MainServer {
	
	final static Model model = new Model();
	
    public static void main(String[] args) {

		// Get port config of heroku on environment variable
        ProcessBuilder process = new ProcessBuilder();
        Integer port;
        if (process.environment().get("PORT") != null) {
            port = Integer.parseInt(process.environment().get("PORT"));
        } else {
            port = 1214;
        }
        port(port);

		//Servir conteudo html, css e javascript
		staticFileLocation("/static");

		inicializarVagas();

		Controller controller = new Controller(model);
		
		controller.buscarVagaLocal();
		controller.buscarVagaTitulo();
		controller.listaTodasVagas();
		//controller.adicinarVagas();
		
		
		
		
    }
    
    public static void inicializarVagas(){
  
		
    	model.addVaga(new Vaga("Analista de Sistemas", "São José dos Campos", "Atuar no desenvolvimento dos aplicativos da empresa", "Conhecimento avançado de Java", "Inglês fluente", "Graduação de TI"));
    	
    	model.addVaga(new Vaga("Analista de Suporte", "São Paulo", "Atuar manutenção e preventicas dos equipamentos de TI", "Conhecimento Hardware e Software", "Certificação Microsoft", "Graduação de TI"));
    	
    }
}
